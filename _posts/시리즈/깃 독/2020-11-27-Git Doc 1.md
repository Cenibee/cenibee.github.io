---
layout: post
title: 깃 독 공부 - 1. 시작하기
date: 2020-11-26 00:15
---

>[참조](https://git-scm.com/book/ko/v2)에서 1. 시작하기를 보며 Git에 대해 알아간 기로기

# **버전 관리 시스템 - VCS**

>Git 은 버전 관리 시스템이다

## **버전 관리 시스템의 대표적인 기능**

- 파일/프로젝트의 상태를 원하는 시점으로 되돌리기
- 시간에 따라 수정된 내용 비교하기
- 문제/이슈를 일으킨 범인과 범행 시간 추적

## **버전 관리 시스템 종류**

VCS는 크게 로컬 / 중앙 집중식 / 분산 버전 시스템으로 나눌 수 있다.

### **로컬 버전 관리 시스템**

- 말 그대로 버전 관리를 로컬 PC에서만 할 수 있는 시스템
- 로컬에 간단한 버전 데이터베이스를 만들어 관리

![local](/assets/img/git-doc/local.png){: width="350"}

### **중앙 집중식 버전 관리 시스템** (CVCS)

- 로컬에서 진화 형태
- 다른 사람들과 공유를 위해 버전 데이터베이스를 중앙 서버에서 관리
- 사용자는 필요한 버전의 파일을 복사해서 사용

![local](/assets/img/git-doc/centralized.png){: width="350"}

### **분산 버전 관리 시스템** (DVCS)

- 중앙 집중식에서 Trade Off - 속도와 사용자의 물리 저장소
- 사용자가 서버 컴퓨터의 버전 데이터 베이스(히스토리)를 모든 파일과 함께 복사(Clone)

![local](/assets/img/git-doc/distributed.png){: width="350"}

>Git이 바로 여기에 속한다!

# **깃 기초**

## **깃의 목표**
- 빠른 속도
- 단순한 구조
- 비선형적 개발(다수의 동시 다발적인 브랜치)
- 완벽한 분산
- 대형 프로젝트에도 유용

## **Git의 핵심은 뭘까?**

### **차이? ㄴㄴ 스냅샷!**

큰 틀에서 봤을 때 VCS 대부분은 관리하는 정보가 **파일들의 목록**이다. 이는 각 파일의 변화를 시간순으로 관리하면서 파일들의 집합을 관리한다. (**델타 기반** 버전 관리 시스템)

Git은 커밋/저장하는 시점의 파일 시스템 스냅샷을 데이터로 생각하고, 이 **스냅샷의 스트림**을 관리한다.

>대부분의 VCS의 관리 대상이 **파일** 이었던 반면, Git은 파일 시스템 스냅샷을 관리한다.

### **거의 모든 명령을 로컬에서 실행**

- 네트워크가 느려도, 서버가 죽어도, 인터넷이 안되도 
- 히스토리는 로컬에 존재한다!
- 그리고 빠르다!

>서버 관련 명령은 인터넷이 될 때 나중에 하면 되니까~~

### **Git의 무결성**

- Git은 데이터 저장하기 전에 항상 SHA-1으로 체크섬[^checksum]을 구하고, 그 체크섬으로 데이터를 관리한다
- 체크섬으로 관리되어 체크섬을 다룰 수 있는 Git 만이 파일이나 디렉토리를 변경하거나 상태 확인, 삭제를 할 수 있다
- 체크섬은 Git에서 가장 Atomic한 데이터 단위이자 기본철학이다
- 모든 저장은 체크섬 형태로 저장된다
- 체크섬은 이렇게 생김

```
24b9da6552252987aa493b52f8696cd6d3b00373
```

### **Git은 데이터를 추가할 뿐**

- Git으로 무얼하든, 단지 Git 데이터베이스에 데이터가 추가될 뿐이다.
- 커밋을 하고나면 데이터를 잃어버리기도 어렵다고 한다.

### **세 가지 상태**

Git은 파일을 세 가지 상태로 관리하며 각 상태는 세 가지 단계와 연결돼 있다.

- **Commited** - on Git 디렉토리 (.git directory)
    - 데이터가 로컬 데이터베이스에 안전하게 저장됐다
- **Modified** - on 워킹 트리 (Working Directory)
    - 수정한 파일을 아직 로컬 데이터베이스에 커밋하지 않았다
- **Staged** - on 스테이징 공간 (Staging Area)
    - 현재 수정한 파일을 곧 커밋할 것이라고 표시한 상태이다

![areas](/assets/img/git-doc/areas.png){: width="450"}

- Git directory
    - Git이 프로젝트의 메타데이터와 객체 데이터 베이스를 저장하는 경로
    - Clone할 때 Git 디렉토리가 생성됨
- 워킹 트리
    - 프로젝트의 특정 버전을 Checkout한 것
    - Git directory 안에 압축된 데이터 베이스 파일을 가져와서 만듦
- Staging Area (Index)
    - Git directory 안에 있음
    - 곧 커밋할 파일에 대한 정보를 저장함

Git에서 하는 일은 기본적으로 아래와 같다.
1. 워킹 트리에서 파일을 수정한다.
2. Staging Area에 파일을 Stage 해서 커밋할 스냅샷을 만든다.
    - 모든 파일 / 특정 파일 선택하여 추가할 수 있다.
3. Staging Area에 있는 파일들을 커밋해서 Git 디렉토리에 영구적인 스냅샷으로 저장한다.

# 마무리

그래도 이건 안까먹는게 좋겠다를 복습
- Git 는 **스냅샷**을 기반으로하는 VCS
- 세 가지 상태

---

[^checksum]: 전송/저장 중 발생할 수 있는 오류를 검출하기 위해 디지털 데이터로부터 구한 작은 크기의 데이터